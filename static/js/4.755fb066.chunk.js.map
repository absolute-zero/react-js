{"version":3,"sources":["hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","state","auth","module","exports","Message","className","classes","message","DialogItem","path","id","name","maxLength50","maxLength","AddMessageFormRedux","minLength","reduxForm","form","text","onSubmit","handleSubmit","Field","component","Textarea","cols","rows","placeholder","validate","required","button","Dialogs","dialogsElements","dialogsPage","dialogsData","map","dialog","index","key","messagesElements","messagesData","dialogs","dialogsItems","messages","values","addMessage","newMessage","compose"],"mappings":"sNAIaA,EAAmB,SAACC,GAAe,IACtCC,EADqC,iLAGnC,OAAKC,KAAKC,MAAMC,OAET,kBAACJ,EAAcE,KAAKC,OAFI,kBAAC,IAAD,CAAUE,GAAG,gBAHT,GACXC,IAAMN,WAYtC,OAAOO,aAJuB,SAACC,GAAD,MAAY,CACtCJ,OAAQI,EAAMC,KAAKL,UAGhBG,CAAiCN,K,oBChB5CS,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,KAAO,sBAAsB,OAAS,0B,oBCA/OD,EAAOC,QAAU,CAAC,QAAU,2B,+HCQbC,EANC,SAACT,GACb,OACI,yBAAKU,UAAWC,IAAQC,SAAUZ,EAAMY,U,iBCSjCC,EATI,SAACb,GAChB,IAAIc,EAAO,aAAed,EAAMe,GAChC,OACI,yBAAKL,UAAWI,GACZ,kBAAC,IAAD,CAASZ,GAAI,YAAcF,EAAMe,IAAKf,EAAMgB,Q,yCC+BlDC,EAAcC,YAAU,IAkBxBC,GAjBaC,YAAU,GAiBDC,YAAU,CAACC,KAAM,wBAAjBD,EAfL,SAACrB,GACpB,OACI,0BAAMU,UAAWC,IAAQY,KAAMC,SAAUxB,EAAMyB,cAC3C,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IACXZ,KAAK,aAAaD,GAAG,GAAGc,KAAK,KAAKC,KAAK,IACvCC,YAAa,qBACbC,SAAU,CAACC,IAAUhB,KAE5B,4BAAQP,UAAWC,IAAQuB,QAA3B,aASGC,EAlDC,SAACnC,GACb,IAAIoC,EACApC,EAAMqC,YAAYC,YAAYC,KAAI,SAACC,EAAQC,GAAT,OAAmB,kBAAC,EAAD,CAAYC,IAAKD,EAAOzB,KAAMwB,EAAOxB,KACzBD,GAAIyB,EAAOzB,QAE5E4B,EACA3C,EAAMqC,YAAYO,aAAaL,KAAI,SAAC3B,EAAS6B,GAAV,OAAoB,kBAAC,EAAD,CAASC,IAAKD,EAAO7B,QAASA,EAAQA,QAC7BG,GAAIH,EAAQG,QAMhF,OAAKf,EAAMC,OAGP,6BACI,yBAAKS,UAAWC,IAAQkC,SACpB,yBAAKnC,UAAWC,IAAQmC,cACnBV,GAEL,yBAAK1B,UAAWC,IAAQoC,UACnBJ,IAGT,kBAACxB,EAAD,CAAqBK,SAhBZ,SAACwB,GACdhD,EAAMiD,WAAWD,EAAOE,gBAGF,kBAAC,IAAD,CAAUhD,GAAI,Y,wBCV7BiD,sBACX/C,aAPkB,SAACC,GACnB,MAAO,CACHgC,YAAahC,EAAMgC,eAKE,CAACY,iBAC1BrD,IAFWuD,CAGbhB","file":"static/js/4.755fb066.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login/' />\r\n\r\n            return <Component {...this.props}/>;\r\n        }\r\n    }\r\n\r\n    let mapStateToPropsRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n    });\r\n\r\n    return connect(mapStateToPropsRedirect)(RedirectComponent);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2klS1\",\"dialogsItems\":\"Dialogs_dialogsItems__3pHhc\",\"active\":\"Dialogs_active__39e1b\",\"dialog\":\"Dialogs_dialog__18_Id\",\"messages\":\"Dialogs_messages__2URTn\",\"text\":\"Dialogs_text__1I9jO\",\"button\":\"Dialogs_button__3To4e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__3FBx-\"};","import React from 'react';\r\nimport classes from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={classes.message}>{props.message}</div>\r\n    )\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport classes from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/dialogs/$' + props.id;\r\n    return (\r\n        <div className={path}>\r\n            <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport classes from './Dialogs.module.css'\r\nimport Message from \"./Message/Message\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, minLength, required} from \"../../utils/validators/validators\";\r\nimport {Input, Textarea} from \"../common/FormsControls\";\r\nimport Icon24LogoVk from \"@vkontakte/icons/dist/24/send\";\r\n\r\nconst Dialogs = (props) => {\r\n    let dialogsElements =\r\n        props.dialogsPage.dialogsData.map((dialog, index) => <DialogItem key={index} name={dialog.name}\r\n                                                                         id={dialog.id}/>);\r\n\r\n    let messagesElements =\r\n        props.dialogsPage.messagesData.map((message, index) => <Message key={index} message={message.message}\r\n                                                                        id={message.id}/>);\r\n\r\n    let addMessage = (values) => {\r\n        props.addMessage(values.newMessage);\r\n    };\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.dialogs}>\r\n                <div className={classes.dialogsItems}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={classes.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addMessage}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst maxLength50 = maxLength(50);\r\nconst minLength2 = minLength(2);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form className={classes.text} onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea}\r\n                   name=\"newMessage\" id=\"\" cols=\"80\" rows=\"1\"\r\n                   placeholder={'Enter your message'}\r\n                   validate={[required, maxLength50]}\r\n            />\r\n            <button className={classes.button}>\r\n                Send\r\n            </button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'}) (AddMessageForm);\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {addMessage, updateNewMessageText} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {addMessage}),\r\n    withAuthRedirect,\r\n)(Dialogs);\r\n\r\n"],"sourceRoot":""}